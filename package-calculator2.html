<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Training Package Calculator</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">
  <div class="w-full max-w-6xl bg-white rounded-3xl shadow-lg p-8">
    <h1 class="text-3xl font-bold  text-center mb-6 text-indigo-600"> Training Package Pricing Calculator</h1>

    <!-- Package Selector -->
    <div class="w-[50vw] mb-8 text-2xl lg:text-base">
      <label class="block text-gray-700 font-semibold mb-2">Select Package</label>
      <select id="packageType" class=" sm:w-full border rounded-lg p-2 overflow-hidden " onchange="updateResourceFacilitatingPerson()">
        <option value="fullstack" data-fee="100000" selected class="text-xs md:text-base">Fullstack Developer + Data</option>
        <option value="frontend" data-fee="80000" class="text-xs md:text-base">Frontend Design</option>
        <option value="va" data-fee="75000" class="text-xs md:text-base">Computer Appreciation + Virtual Assistance</option>
      </select>
    </div>

    <!-- Input Form -->
    <div class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8 text-xl sm:text-base">
      <div>
        <label class="block text-gray-700 font-semibold mb-2 text-2xl lg:text-base">Package Duration (Months)</label>
        <select id="packageDurations" class="w-full border rounded-lg p-2 text-2xl lg:text-base">
          <option value="1" >1 Month</option>
          <option value="2">2 Months</option>
          <option value="3">3 Months</option>
        </select>
      </div>
      <div>
        <label class="block text-gray-700 font-semibold mb-2 text-2xl lg:text-base">Number of Students</label>
        <input type="number" id="packageStudents" value="10" class="w-full border rounded-lg p-2 text-3xl lg:text-base">
      </div>
      <div>
        <label class="block text-gray-700 font-semibold mb-2 text-2xl lg:text-base">Facility cost per Student</label>
        <input type="number" id="resourceFacilityPerStudent" value="3500" class="w-full border rounded-lg p-2 text-3xl lg:text-base">
      </div>
      <div>
        <label class="block text-gray-700 font-semibold mb-2 text-2xl lg:text-base">Office Secretary Cost</label>
        <input type="number" id="officeSecretary" value="5850" class="w-full border rounded-lg p-2 text-3xl lg:text-base">
      </div>
      <div>
        <label class="block text-gray-700 font-semibold mb-2 text-2xl lg:text-base">Facilitator Cost (Daily)</label>
        <input type="number" id="resourceFacilitatingPerson" value="8000" class="w-full border rounded-lg p-2 text-3xl lg:text-base" onchange="calculate()">
      </div>
      <div>
        <label class="block text-gray-700 font-semibold mb-2 text-2xl lg:text-base">Rental Cost (₦ / day)</label>
        <input type="number" id="rentalUnit" value="1369.86" step="0.01" class="w-full border rounded-lg p-2 text-3xl lg:text-base">
      </div>
      <div>
        <label class="block text-gray-700 font-semibold mb-2 text-2xl lg:text-base">Sourced Service</label>
        <input type="number" id="sourcedService" value="4000" class="w-full border rounded-lg p-2 text-3xl lg:text-base">
      </div>
      <div>
        <label class="block text-gray-700 font-semibold mb-2 text-2xl lg:text-base">Profit Percentage (%)</label>
        <input type="number" id="profitPercent" value="10" min="0" class="w-full border rounded-lg p-2 text-3xl lg:text-base">
      </div>
    </div>

    <!-- Results -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 text-center mb-8 text-3xl lg:text-base">
      <div class="bg-indigo-50 p-4 rounded-xl shadow">
        <h2 class="font-bold text-indigo-600">Package Cost</h2>
        <p id="unitCost" class="text-4xl lg:text-base font-mono text-gray-800">₦0</p>
      </div>
      <div class="bg-green-50 p-4 rounded-xl shadow">
        <h2 class="font-bold text-green-600">Profit</h2>
        <p id="profit" class="text-4xl lg:text-base font-mono text-gray-800">₦0</p>
      </div>
      <div class="bg-yellow-50 p-4 rounded-xl shadow">
        <h2 class="font-bold text-yellow-600">Selling Price</h2>
        <p id="sellingPrice" class="text-4xl lg:text-base font-mono text-gray-800">₦0</p>
      </div>
    </div>

    <!-- Breakdown Table -->
    <div class="overflow-x-auto ">
      <table class="w-full table-auto border border-gray-200 rounded-lg text-3xl lg:text-base">
        <thead class="bg-gray-200">
          <tr>
            <th class="px-2 sm:px-4 py-2 text-left">Component</th>
            <th class="px-2 sm:px-4 py-2 text-right">Daily (₦)</th>
            <th class="px-2 sm:px-4 py-2 text-right">Monthly (₦)</th>
          </tr>
        </thead>
        <tbody id="breakdownTable" class="divide-y divide-gray-200"></tbody>
      </table>
    </div>
  </div>

  <script>
    function calculate() {
      let packageDurations = parseInt(document.getElementById('packageDurations').value);
      let packageStudents = parseInt(document.getElementById('packageStudents').value);
      let facilityPerStudent = parseFloat(document.getElementById('resourceFacilityPerStudent').value);
      let officeSecretary = parseFloat(document.getElementById('officeSecretary').value);
      let facilitatorDaily = parseFloat(document.getElementById('resourceFacilitatingPerson').value);
      let rentalUnit = parseFloat(document.getElementById('rentalUnit').value);
      let sourcedService = parseFloat(document.getElementById('sourcedService').value);
      let profitPercent = parseFloat(document.getElementById('profitPercent').value);

      // Base Fee
      let packageSelect = document.getElementById('packageType');
      let baseFee = parseFloat(packageSelect.options[packageSelect.selectedIndex].dataset.fee);

      // Constants
      let monthlyTeachingDays = 12;
      let packageActualDuration = monthlyTeachingDays * packageDurations;

      // Resource Facilities (now controlled)
      let resourceFacilities = packageStudents * facilityPerStudent;

      // Unit Cost
      let packageUnitCost = ((sourcedService / packageStudents) + (resourceFacilities / packageStudents) + (rentalUnit / packageStudents) + (facilitatorDaily / packageStudents) + (officeSecretary / packageStudents));
      packageUnitCost = (packageUnitCost * packageStudents);

      // Profit
      let profit = ((profitPercent * packageUnitCost) / 100);

      // Selling Price
      let sellingPrice = (packageUnitCost * packageActualDuration) + profit;

      // Update Results
      document.getElementById('unitCost').innerText = "₦" + packageUnitCost.toLocaleString();
      document.getElementById('profit').innerText = "₦" + profit.toLocaleString();
      document.getElementById('sellingPrice').innerText = "₦" + sellingPrice.toLocaleString();

      // Breakdown Table
      let breakdownHTML = `
        <tr>
          <td class="px-2 sm:px-4 py-2">Resource Facilities</td>
          <td class="px-2 sm:px-4 py-2 text-right">₦${parseInt(resourceFacilities).toLocaleString()}</td>
          <td class="px-2 sm:px-4 py-2 text-right">₦${parseInt(resourceFacilities * packageActualDuration).toLocaleString()}</td>
        </tr>
        <tr>
          <td class="px-2 sm:px-4 py-2">Rental Unit</td>
          <td class="px-2 sm:px-4 py-2 text-right">₦${parseInt(rentalUnit / packageStudents).toLocaleString()}</td>
          <td class="px-2 sm:px-4 py-2 text-right">₦${parseInt(rentalUnit * packageActualDuration).toLocaleString()}</td>
        </tr>
        <tr>
          <td class="px-2 sm:px-4 py-2">Sourced Services</td>
          <td class="px-2 sm:px-4 py-2 text-right">₦${parseInt(sourcedService).toLocaleString()}</td>
          <td class="px-2 sm:px-4 py-2 text-right">₦${parseInt(sourcedService * packageActualDuration).toLocaleString()}</td>
        </tr>
        <tr>
          <td class="px-2 sm:px-4 py-2">Facilitator</td>
          <td class="px-2 sm:px-4 py-2 text-right">₦${parseInt(facilitatorDaily).toLocaleString()}</td>
          <td class="px-2 sm:px-4 py-2 text-right">₦${parseInt(facilitatorDaily * packageActualDuration).toLocaleString()}</td>
        </tr>
        <tr>
          <td class="px-2 sm:px-4 py-2">Office Secretarial Cost</td>
          <td class="px-2 sm:px-4 py-2 text-right">₦${parseInt(officeSecretary).toLocaleString()}</td>
          <td class="px-2 sm:px-4 py-2 text-right">₦${parseInt(officeSecretary * packageActualDuration).toLocaleString()}</td>
        </tr>
        <tr class="bg-yellow-50 font-bold">
          <td class="px-2 sm:px-4 py-2">what each student is paying</td>
          <td class="px-2 sm:px-4 py-2 text-right">₦${parseInt((sellingPrice / packageActualDuration) / packageStudents).toLocaleString()}</td>
          <td class="px-2 sm:px-4 py-2 text-right">₦${parseInt((sellingPrice) / packageStudents).toLocaleString()}</td>
        </tr>
        <tr>
          <td class="px-2 sm:px-4 py-2">Package Base Cost</td>
          <td class="px-2 sm:px-4 py-2 text-right">₦${parseInt(packageUnitCost).toLocaleString()}</td>
          <td class="px-2 sm:px-4 py-2 text-right">₦${(parseInt(packageUnitCost * packageActualDuration)).toLocaleString()}</td>
        </tr>
        <tr class="bg-green-50 font-bold">
          <td class="px-2 sm:px-4 py-2">Profit (${profitPercent}%)</td>
          <td class="px-2 sm:px-4 py-2 text-right">₦${parseInt(profit).toLocaleString()}</td>
          <td class="px-2 sm:px-4 py-2 text-right">₦${parseInt(profit * packageActualDuration).toLocaleString()}</td>
        </tr>
        <tr class="bg-yellow-50 font-bold">
          <td class="px-2 sm:px-4 py-2">Final Selling Price</td>
          <td class="px-2 sm:px-4 py-2 text-right">₦${parseInt((sellingPrice / packageActualDuration) + profit).toLocaleString()}</td>
          <td class="px-2 sm:px-4 py-2 text-right">₦${parseInt(sellingPrice + (profit * packageActualDuration)).toLocaleString()}</td>
        </tr>
      `;
      document.getElementById('breakdownTable').innerHTML = breakdownHTML;
    }

    function updateResourceFacilitatingPerson() {
      let packageType = document.getElementById('packageType').value;
      let facilitatorField = document.getElementById('resourceFacilitatingPerson');
      let baseFee = parseFloat(document.getElementById('packageType').options[document.getElementById('packageType').selectedIndex].dataset.fee);
      facilitatorField.value = parseInt(baseFee / 12);
      calculate();
    }

    document.querySelectorAll('input, select').forEach(el => {
      el.addEventListener('input', calculate);
    });

    updateResourceFacilitatingPerson();
  </script>
</body>
</html>
